<!doctype html>
<!-- http://www.visualcinnamon.com/2015/09/placing-text-on-arcs.html -->
<html>
    <head>
        <title>Text Path</title>
        <meta charset="utf-8">
            <script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>
    </head>
    
    <body>
        <svg height="0" width="0"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink">
        </svg>
        
        <script>
            // variable for containing texts
            var textData = ["first word", "2nd word", "yadda, yadda, ramble.."]
            // create SVG
            var svg = d3.select("body").append("svg")
            .attr("width", 500)
            .attr("height", 120);
            // create SVG path
            svg.append("path")
            .attr("id", "wavy") // set unique id for reference
            .attr("d", 'M 10,90 Q 100,15 200,70 Q 340,140 480,70')
            .style("fill", "none")
            .style("stroke", "#1A818C");
            // create SVG text element and append textPath element
            svg.append('text')
            .append("textPath")
            .attr('xlink:href', '#wavy') // id reference to SVG path
            .style("text-anchor", 'middle') // anchors to mid-path
            .attr("startOffset", "50%") // @ 50 centers text
            // address spaces between strings
            .text(textData);
            // this transition needs some work
            // Error: <path> attribute d: Expected arc flag ('0' or '1')
            // svg.selectAll("path")
            //   .transition().duration(2000).delay(2000)
            //   .attr("d", "M75,300 A125,125 0 0,1 325,300");
            </script>
        
    </body>
    
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
            <script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>
            
            <style>
                .active {
                    stroke: #000;
                    stroke-width: 2px;
                }
            </style>
            
    </head>
    
    <body>
        
        <svg height="200" width="660">
            <!-- border for view box -->
            <!-- height and width here needs to be set based on stroke-width -->
        </svg>
        
        <script>
            
            var svg = d3.select("svg"),
            width = +svg.attr("width"),
            height = +svg.attr("height"),
            radius = 15;
            
            var circles = d3.range(20).map(function() {
                                           return {
                                           x: Math.round(Math.random() * (width - radius * 2) + radius),
                                           y: Math.round(Math.random() * (height - radius * 2) + radius)
                                           };
                                           });
                                           
                                           var color = d3.scaleOrdinal()
                                           .range(d3.schemeCategory20);
                                           
                                           svg.selectAll("circle")
                                           .data(circles)
                                           .enter().append("circle")
                                           .attr("cx", function(d) {
                                                 return d.x; })
                                                 .attr("cy", function(d) {
                                                       return d.y; })
                                                       .attr("r", radius)
                                                       .style("fill", function(d, i) {
                                                              return color(i); })
                                                              .call(d3.drag()
                                                                    .on("start", dragstarted)
                                                                    .on("drag", dragged)
                                                                    .on("end", dragended));
                                                                    
                                                                    function dragstarted(d) {
                                                                        d3.select(this).raise().classed("active", true);
                                                                    }
        
        // dragged function changes coordinates
        function dragged(d) {
            d3.select(this).attr("cx", d.x = d3.event.x).attr("cy", d.y = d3.event.y);
        }
        
        function dragended(d) {
            d3.select(this).classed("active", false);
        }
        
            </script>
        
    </body>
</html>
